{
  "connectionTest": {
    "main": {
      "message": "Hello, this is a connection test.",
      "temperature": 0.7,
      "maxTokens": 100,
      "useFastModel": false
    },
    "fast": {
      "message": "Test",
      "temperature": 0.7,
      "maxTokens": 50,
      "useFastModel": true
    }
  },
  "v1": {
    "toolSelection": {
      "stage1": {
        "template": "You are a proactive assistant who will run a tool used to gather detailed information prior to answering a user request.\n\n# User Request\n\"{userRequest}\"\n\n# Current Workspace Files (non-exhaustive)\n{projectFileStructure}\n\n# Available information-gathering tools\n{toolNames}\n\n# Your Task\nPick the best tool for gathering information about the codebase (usually read_file) and pick a good documentation or code file to use the tool on. If the workspace file includes a README, your \"prompt\" should me 'read the contents of the README' (but specify the correct path and name of the README as shown in the workspace files). \n\nRespond ONLY with JSON: {\"tool\": \"your chosen tool\", \"prompt\": \"the file shown in the workspace files that you want to use the tool on (as a sentence as shown in Your Task above)\"}\n\nResponse:",
        "temperature": 0.1,
        "maxTokens": 100,
        "useFastModel": true
      }
    },
    "argumentGeneration": {
      "fastModel": {
        "template": "Generate tool arguments from user request.\n\n# Current Workspace Files (non-exhaustive)\n{projectFileStructure}\n\n# User Request\n\"{userRequest}\"\n\n# Tool: {toolName}\n{toolDescription}\n\n## Parameters\n{params}\n\n# Your Response\n- EXCLUDE all parameters described as optional from the JSON unless doing so will not yield the results requested.\n- When setting paths for files mentioned in the user request, check whether these are listed in the current workspace files above and apply the correct paths (always relative, never starting with a backslash) as shown in current workspace files.\n- if asked to read file contents, EXCLUDE the optional max line parameters from the JSON unless instructed otherwise.\n\nRespond ONLY with JSON: {\"args\": {\"param\": \"value\"}}\n\nResponse:",
        "temperature": 0.1,
        "useFastModel": true
      },
      "fullModel": {
        "template": "You are a helpful assistant that generates tool arguments.\n\n# Current Workspace Files (non-exhaustive)\n{projectFileStructure}\n\n# User Request\n\"{userRequest}\"\n# Selected Tool: {toolName}\n{toolDescription}\n\n## Parameters\n{params}\n\n# Instructions\n1. Extract arguments from the user request based on the tool's parameter requirements\n2. Use relative paths (e.g., \".\" for current directory) and appropriate boolean values\n3. For complex tools, carefully consider parameter relationships and validation\n4. Exclude all parameters described as optional from the JSON unless doing so will not yield the results requested.\n5. When setting paths for files mentioned in the user request, check if they are listed in the current workspace files above and apply the correct paths as shown in the current workspace files.\n6. Respond with: {\"args\": {\"param1\": \"value1\", \"param2\": \"value2\"}}\n\nRESPOND WITH ONLY THE JSON, NO OTHER TEXT.\n\nResponse:",
        "temperature": 0.1,
        "useFastModel": false
      }
    },
    "responseGeneration": {
      "parallelTasks": {
        "template": "{systemPrompt}\\n\\n# Current Workspace Files (non-exhaustive)\\n{projectFileStructure}\\n\\nMake no assumptions about the main function of this workspace without inspecting the contents of its principal files like READMEs, docs and source code files first.\\n\\n# User Request\\n{userPrompt}\\n\\n# Your Task\\nGiven the workspace files and the user request, make a list of initial tasks objectives to be performed independently which would help towards resolving the request. Respond in valid JSON only, no text, markdown or backticks: {\\\"initial_tasks\\\":[\\\"task objective\\\",\\\"other task objective\\\",...]}"
      },
      "planDecision": {
        "template": "{systemPrompt}\\n\\n# Current Workspace Files (non-exhaustive)\\n{projectFileStructure}\\n\\n### IMPORTANT\\nMake no assumptions about the main function of this workspace without inspecting the contents of its principal files first.\\n\\n# User Request\\n{userPrompt}\\n\\n# Junior Assistant\\nA junior assistant thought to run the following tool for you.\\n{planDecisionAssistant}\\n\\nBased on both the list of Current Workspace Files and the junior assistant tool results above, you have two options:\\n\\n1. If you have enough information to provide a complete answer, respond directly to the user.\\n\\n2. If you need additional information to provide better assistance, create a plan in JSON format:\\n\\n{ \\\"main_objective\\\": \\\"Concise description of the overall goal\\\", \\\"conclusion_from_junior_assistant_data\\\": \\\"A detailed account of what you have learnt from the Junior Assistant's tool results, including information that may be needed for completing the next steps in your plan as well as notes to follow up on unknowns.\\\", \\\"junior_assistant_data_was_helpful\\\": true, \\\"next_step\\\": {\\\"objective\\\": \\\"What this step will accomplish\\\", \\\"tool\\\": \\\"tool_name\\\", \\\"prompt\\\": \\\"Precise and concise instructions for the tool (write as a sentence, not as final arguments). Must contain all details necessary to execute the tool without knowledge beyond the provided list of current workspace files and should not be vague in any way.\\\"}, \\\"later_steps\\\": [\\\"Step 2 objective (once next_step objective is complete)\\\", \\\"Step 3 objective\\\"]\\n}\\n\\nNote: \\\"later_steps\\\" is a list of strings containing objectives only, NOT a list of JSON objects.\\n\\n# Available Tools\\n{toolNamesAndHints}\\n\\nIf the user prompt requires broad knowledge of the codebase, start by reading the README file if there is one. Do not search for files that are already listed in the Current Workspace Files, inspect them straight away.\\n\\nIMPORTANT: Respond with raw JSON only. Do NOT wrap the JSON in markdown code blocks or backticks.\\n\\nSet junior_assistant_data_was_helpful to true only if the tool results provided additional information beyond what was already available that helped towards answering the user's question, otherwise set it to false.\\n\\nResponse:"
      },
      "planIteration": {
        "template": "{systemPrompt}\\n\\n# Current Workspace Files (non-exhaustive)\\n{projectFileStructure}\\n\\n# User Request\\n{userPrompt}\\n\\n# Your Plan\\n\\n## Main Objective\\n{objective}\\n\\n## Completed Steps\\n{completedSteps}\\n\\n## Current Step\\n{currentStep}\\n\\n## Later Steps:\\n{nextSteps}\\n\\n# Available Tools\\n{toolNamesAndHints}\\n\\n# Your Response\\n\\nNotes:\\n- Review all previous conclusions listed in the Current and Previous Steps and try something different on each iteration.\\n- Iterate on the same Step Objective until it is fully realized.\\n- Start by reading the contents of principal files (like READMEs) that you have not read yet before looking for symbols.\\n- Be aware of the number of lines read by the tool and continue on a later lines to read whole files.\\n\\n## Option A\\nIf you have not fully reached your Current Step Objective (not Main Objective) but are confident you can get closer to it by executing more tools, reply with the following JSON ONLY, replacing the values with your own:\\n\\n{\\\"continue_with_current_step\\\": {\\\"notes_to_future_self\\\": \\\"A detailed account of what you have discovered so far (without making assumptions) from the Completed Junior Assistant Task and whether the arguments the assistant picked matches your expectations or prevented you from obtaining the information you wanted. Say what needs following up and what has not yet been looked at considering all the previous notes you have collected. Provide new information only.\\\", \\\"tool\\\": \\\"the tool_name for tool you will next use\\\", \\\"prompt\\\": \\\"Unambiguous instruction in terms of the expected arguments to this tool, written as a sentence. This prompt must contain all details necessary to execute the tool without knowledge beyond the provided list of current workspace files. Ensure to provide detail like 'whole file contents' or 'lines X to Y' where applicable.\\\"}}\\n\\nNote: Reply with valid JSON ONLY - it must be structured exactly as specified without being wrapped in markdown code blocks.\\n\\n## Option B\\n\\nIf you no longer want to work on the same objective and you know what your next objective should be, reply with the following JSON ONLY, replacing the values with your own:\\n\\n{\\\"wrap_up_current_step\\\": {\\\"notes_to_future_self\\\": \\\"A detailed account of what you have discovered so far (without making assumptions) from the Completed Junior Assistant Task and whether the arguments the assistant picked matches your expectations or prevented you from obtaining the information you wanted. Say what needs following up and what has not yet been looked at considering all the previous notes you have collected. Provide new information only.\\\", \\\"completed\\\": true, \\\"success\\\": true}, \\\"new_step\\\": {\\\"objective\\\": \\\"a new, different objective\\\", \\\"tool\\\": \\\"The tool_name for tool you are next going to use.\\\", \\\"prompt\\\": \\\"Unambiguous instruction in terms of the expected arguments to this tool, written as a sentence. This prompt must contain all details necessary to execute the tool without knowledge beyond the provided list of current workspace files. Ensure to provide detail like 'whole file contents' or 'lines X to Y' where applicable.\\\"}, /* Optional: */ \\\"later_steps\\\": [\\\"Updated step objective descriptions\\\"] (only include this list of strings (NOT list of JSON objects) if you want to change your later objectives)}\\n\\nNOTE: set \\\"success\\\" to false if the current step objective has not been fully realized. Reply with valid JSON ONLY - it must be structured exactly as specified without being wrapped in markdown code blocks.\\n\\n## Option C\\n\\nIf you have complete your previous objectives and are ready to conclude, provide a comprehensive, final conclusion that addresses the user request. Summarize key findings, and provide a complete answer to the original request. If you did not completely reach your Main Objective, say why. Provide your final answer or conclusion as text."
      },
      "stepLimitIteration": {
        "template": "{systemPrompt}\\n\\n# Current Workspace Files (non-exhaustive)\\n{projectFileStructure}\\n\\n# User Request\\n{userPrompt}\\n\\n# Your Plan\\n\\n## Main Objective\\n{objective}\\n\\n## Completed Steps\\n{completedSteps}\\n\\n## Current Step\\n{currentStep}\\n\\n## Later Steps:\\n{nextSteps}\\n\\n# Available Tools\\n{toolNamesAndHints}\\n\\n# Your Response\\n\\n## Option A\\n\\nIf ALL of the following points are true:\\n\\n- you are ready to move onto the next objective, and\\n- you know what your next object should be and it is not a repeat of a previous objective and does not involve running the same tool commands as before,\\n\\nthen reply with the following JSON ONLY, replacing the values with your own:\\n\\n{\\\"wrap_up_current_step\\\": {\\\"notes_to_future_self\\\": \\\"A detailed account of what you have discovered so far (without making assumptions) from the Completed Junior Assistant Task and whether the arguments the assistant picked matches your expectations or prevented you from obtaining the information you wanted. Say what needs following up and what has not yet been looked at considering all the previous notes you have collected. Provide new information only.\\\", \\\"completed\\\": true, \\\"success\\\": true\\n},\\n\\\"new_step\\\": {\\\"objective\\\": \\\"a new, different objective\\\", \\\"tool\\\": \\\"The tool_name for tool you are next going to use.\\\", \\\"prompt\\\": \\\"Unambiguous instruction in terms of the expected arguments to this tool, written as a sentence. This prompt must contain all details necessary to execute the tool without knowledge beyond the provided list of current workspace files. Ensure to provide detail like 'whole file contents' or 'lines X to Y' where applicable.\\\"}, /* Optional: */ \\\"later_steps\\\": [\\\"Updated step objective descriptions\\\"] (only include this list of strings (NOT list of JSON objects) if you want to change your later objectives)}\\n\\nNOTE: set \\\"success\\\" to false if the current step objective has not been fully realized.\\n\\n## Option B\\n\\nIf you have complete your previous objectives and a re ready to conclude, provide a comprehensive, final conclusion that addresses the user request. Summarize key findings, and provide a complete answer to the original request. If you did not completely reach your Main Objective, say why. Provide your final answer or conclusion as text.\\n\\n## IMPORTANT\\n\\nIf option A applies to you, reply with valid JSON structured exactly as specified, do not wrap the JSON in markdown code blocks or backticks and DO NOT MENTION WHICH OPTION YOU CHOSE OR ADD ANY OTHER TEXT, your response must only contain valid JSON.\\n\\nIf choosing option B, do not mention Option B, simply replay with text as specified.\\n\\nResponse:"
      },
      "finalIteration": {
        "template": "{systemPrompt}\\n\\n# Current Workspace Files (non-exhaustive)\\n{projectFileStructure}\\n\\n# User Request\\n{userPrompt}\\n\\n\\n\\n# Your Executed Plan\\n\\n## Main Objective\\n{objective}\\n\\n## Previous Steps\\n{completedSteps}\\n\\n## Current Step\\n{currentStep}\\n\\n# Your Response\\nBased on all the work completed above, please provide a comprehensive, final conclusion that addresses the user request. Summarize key findings, and provide a complete answer to the original request.\\n\\nResponse:"
      },
      "errorConclusion": {
        "template": "{systemPrompt}\\n\\n# Current Workspace Files (non-exhaustive)\\n{projectFileStructure}\\n\\n# User Request\\n{userPrompt}\\n\\n\\n\\n# Error Information\\n\\nThe conversation has concluded due to an error: {errorString}\\n\\n## Main Objective\\n{objective}\\n\\n## Previous Steps\\n{completedSteps}\\n\\n## Current Step\\n{currentStep}\\n\\n# Your Response\\nBased on all the work completed above, please provide a comprehensive, final conclusion that addresses the user request. Summarize key findings, and provide a complete answer to the original request.\\n\\nResponse:"
      },
      "planDecisionAssistant": {
        "template": "- Prompt to junior assistant: \\\"{prompt}\\\"\\n- Tool you chose: {tool}\\n- Tool arguments junior assistant chose: {args}\\n- Tool Results:\\n\\n{results}"
      },
      "currentStep": {
        "template": "### {stepNumber}. {objective}\\n\\n#### Notes\\n{notes}\\n\\n### Previous Junior Assistant Tasks\\n{previousToolList}\\n\\n### Recent Junior Assistant Task\\n- Your prompt: \\\"{prompt}\\\"\\n- Tool you chose: {tool}\\n- Tool arguments junior assistant chose: {args}\\n- Tool Results:\\n\\n{results}"
      },
      "previousTool": {
        "template": "- Prompt to junior assistant: {prompt}\\n  - Tool you chose: {tool}\\n  - Tool arguments junior assistant chose: {args}"
      },
      "previousStep": {
        "template": "### {stepNumber}. {objective}\\nSuccess: {success}\\n\\n#### Junior Assistant Tasks\\n{previousToolList}\\n\\n#### Conclusion\\n{conclusion}"
      }
    }
  },
  "v3": {
    "intentClassification": {
      "template": "User Request: \"{userRequest}\"\n\nWhat is the user's primary intent?\nA) UNDERSTAND - Learn how something works, get overview, explain functionality\nB) FIND - Locate specific files, code, or information\nC) FIX - Debug issues, solve problems, troubleshoot\nD) BUILD - Implement new features, make changes, create something\nE) CONFIGURE - Set up, modify settings, adjust configuration\n\nRespond with just the letter: A, B, C, D, or E",
      "temperature": 0.1,
      "maxTokens": 10,
      "useFastModel": true
    },
    "informationTypeClassification": {
      "template": "User Intent: {intent}\nUser Request: \"{userRequest}\"\nAvailable Files: {projectFiles}...\n\nBased on the {intent} intent, what type of information do they need?\nA) OVERVIEW - Documentation, README, general understanding\nB) SOURCE - Specific source code, implementation details\nC) CONFIG - Configuration files, settings, setup\nD) EXPLORE - Directory structure, file organization\n\nRespond with just the letter: A, B, C, or D",
      "temperature": 0.1,
      "maxTokens": 10,
      "useFastModel": true
    }
  },
  "codeCompletion": {
    "completion": {
      "template": "You are an efficient code completion assistant. Your goal is to save the developer time by writing as much useful, correct code as possible.\n\nFile: {filePath}\nCode before cursor: {codeBeforeCursor}\nCode after cursor: {codeSuffix}\n\nYour response must start with the exact text \"{codeBeforeCursor}\" character-for-character, then continue with your completion, and include the suffix \"{codeSuffix}\". Provide a meaningful completion that implements or extends the code logically. Write clean, well-typed code.\n\nIMPORTANT: Respond with plain text only. Do not use code blocks, markdown formatting, or backticks. Do not add explanations or comments after the code. Only provide the completed code.",
      "temperature": 0.3,
      "maxTokens": 500,
      "useFastModel": false
    }
  },
  "toolGuidance": {
    "usageHints": {
      "read_file": "USE WHEN: you want to examine the contents of one specific file only like \"read config.json\", \"show me the code in hub.ts\", \"what's in the README\" (this cannot read multiple files). Always prefer to use read_file on known files than search_for_pattern if you are not sure the pattern you are looking for exists.",
      "list_dir": "USE WHEN: user asks \"what files are in\", \"list files\", \"show directory contents\". IMPORTANT: Instructions should explicitly specify whether to search recursively or not.",
      "find_file": "USE WHEN: user wants to find files by name like \"find config.json\", \"find *.js files\", \"locate main.py\". IMPORTANT: Searches recursively through all subdirectories. Only ONE file pattern can be searched at a time.",
      "replace_regex": "USE WHEN: user wants to replace, modify, or update text patterns across files like \"change all console.log to logger\", \"replace function name\", \"update imports\"",
      "search_for_pattern": "USE WHEN: user wants to search for text inside files like \"search for TODO\", \"find all console.log\", \"show me the imports\"",
      "restart_language_server": "USE WHEN: user mentions language server errors, outdated symbols, or requests explicit restart of language analysis",
      "get_symbols_overview": "USE WHEN: user wants to understand code structure like \"what classes\", \"show me the methods\", \"analyze this codebase\"",
      "find_symbol": "USE WHEN: user looks for specific functions, classes like \"find the authenticate method\", \"where is the User class\"",
      "find_referencing_symbols": "USE WHEN: user wants to see where code is used like \"what calls this function\", \"find usages\"",
      "replace_symbol_body": "USE WHEN: user wants to replace entire function/method/class bodies like \"rewrite this function\", \"replace the method implementation\"",
      "insert_after_symbol": "USE WHEN: user wants to add new code after existing functions/classes like \"add a new method after this one\", \"insert function below\"",
      "insert_before_symbol": "USE WHEN: user wants to add code before existing functions/classes like \"add import statement\", \"insert helper function above\"",
      "write_memory": "USE WHEN: user shares important project info that should be remembered like \"this uses PostgreSQL\", \"the auth flow works like...\", key insights",
      "read_memory": "USE WHEN: you need to recall previously stored project information that's relevant to current task",
      "list_memories": "USE WHEN: you need to see what project information has been previously stored",
      "delete_memory": "USE WHEN: user explicitly asks to remove outdated or incorrect stored information",
      "activate_project": "USE WHEN: user wants to switch to or work on a different project",
      "remove_project": "USE WHEN: user explicitly asks to remove a project from configuration",
      "switch_modes": "USE WHEN: user wants to change how the assistant behaves like \"switch to planning mode\", \"use interactive mode\"",
      "get_current_config": "USE WHEN: user asks about current settings, active project, or available tools/modes",
      "check_onboarding_performed": "USE WHEN: starting work on a project to verify if setup is complete",
      "onboarding": "USE WHEN: project hasn't been set up yet and needs initial configuration",
      "think_about_collected_information": "USE WHEN: after gathering info from multiple tools to analyze if it's sufficient for the task",
      "think_about_task_adherence": "USE WHEN: before making code changes to ensure you're still addressing the user's original request",
      "think_about_whether_you_are_done": "USE WHEN: you believe the user's request has been completed",
      "summarize_changes": "USE WHEN: after completing code modifications to explain what was changed",
      "prepare_for_new_conversation": "USE WHEN: user explicitly requests preparation for ending current session",
      "initial_instructions": "USE WHEN: starting any programming task to get project-specific guidance",
      "resolve-library-id": "USE WHEN: user asks for a library ID or as a first step in obtaining a library ID for library or package documentation before calling get-library-docs",
      "get-library-docs": "USE WHEN: retrieving documentation using a library ID that was previously obtained from resolve-library-id"
    },
    "fastModelTools": [
      "list_dir",
      "find_file",
      "read_memory",
      "list_memories",
      "get_current_config",
      "check_onboarding_performed",
      "resolve-library-id",
      "get-library-docs"
    ],
    "readOnlyTools": [
      "read_file",
      "list_dir",
      "find_file",
      "search_for_pattern",
      "get_symbols_overview",
      "find_symbol",
      "find_referencing_symbols",
      "read_memory",
      "list_memories",
      "get_current_config",
      "check_onboarding_performed",
      "resolve-library-id",
      "get-library-docs"
    ],
    "toolsBlackList": [
      "get_symbols_overview",
      "find_symbol",
      "find_referencing_symbols",
      "read_memory",
      "list_memories",
      "get_current_config",
      "check_onboarding_performed",
      "resolve-library-id",
      "get-library-docs",
      "restart_language_server",
      "replace_symbol_body",
      "insert_after_symbol",
      "insert_before_symbol",
      "write_memory",
      "read_memory",
      "list_memories",
      "delete_memory",
      "activate_project",
      "remove_project",
      "switch_modes",
      "onboarding",
      "think_about_collected_information",
      "think_about_task_adherence",
      "think_about_whether_you_are_done",
      "summarize_changes",
      "prepare_for_new_conversation",
      "initial_instructions",
      "resolve-library-id"
    ],
    "argumentHints": {
      "find_file": {
        "file_mask": "Use glob patterns like '*.js' or 'config.*', NOT regex patterns like '.*' (use '*' instead)"
      },
      "get_symbols_overview": {
        "max_answer_chars": "Use positive numbers (e.g. 5000, 10000). DO NOT use 0 - it means 'no characters allowed' and will cause errors. Omit this parameter to allow unlimited length."
      },
      "find_referencing_symbols": {
        "max_answer_chars": "Use positive numbers (e.g. 5000, 10000). DO NOT use 0 - it means 'no characters allowed' and will cause errors. Omit this parameter to allow unlimited length."
      },
      "search_for_pattern": {
        "max_answer_chars": "Use positive numbers (e.g. 5000, 10000). DO NOT use 0 - it means 'no characters allowed' and will cause errors. Omit this parameter to allow unlimited length."
      },
      "find_symbol": {
        "max_answer_chars": "Use positive numbers (e.g. 5000, 10000). DO NOT use 0 - it means 'no characters allowed' and will cause errors. Omit this parameter to allow unlimited length."
      },
      "read_file": {
        "start_line": "Exclude this parameter unless specified in the user request.",
        "max_lines": "Exclude this parameter unless specified in the user request."
      },
      "*": {
        "relative_path": "use the directory the user mentions (e.g. \"src\" if they say \"src directory\", or \".\" only if they mean current/root directory)"
      }
    }
  },
  "systemMessages": {
    "customSystemPrompt": {
      "template": "You are an AI assistant. You are a resourceful developer with deep knowledge of programming languages, frameworks, and development best practices. You always carefully consider what was previously done before responding. You look through the code base thoroughly looking to see if you missing any important files. If including code snippets, always start code blocks with the programming language and file name (e.g., ```{language} path/to/file).",
      "enabled": true
    },
    "mcpInitializing": {
      "template": "Local MCP Hub is still initializing the code analysis tools (Serena & Context7). This usually takes 10-30 seconds after startup. Please try your request again in a moment.\n\nCurrent status:\n- Hub server: Running\n- Ollama connection: Connected\n- MCP tools: Loading...\n\nYou can check initialization status at: http://localhost:{port}/health"
    },
    "toolPermissionError": {
      "template": "I'd like to use the {toolName} tool to answer your question, but I encountered an error: {error}. Would you like me to try a different approach?"
    },
    "toolPermissionRequest": {
      "template": "I'd like to use the {toolName} tool with these parameters: {args}. This tool may modify files or system state. Would you like me to proceed? (Please respond with 'yes' to continue or 'no' to cancel)"
    }
  }
}